@model AgriEnergyConnectWebApp.ViewModels.ProductViewModel

<!-- Container for the product form, styled with Bootstrap -->
<div class="container my-5" style="max-width: 600px;">
    <div class="card shadow-sm p-4">
        <!-- Form title -->
        <h2 class="mb-4 text-success text-center">Add New Product</h2>

        <!-- Form to add a new product -->
        <form asp-action="AddProduct" method="post" class="needs-validation" novalidate>
            @Html.AntiForgeryToken() <!-- Anti-forgery token for CSRF protection -->
            <input type="hidden" asp-for="Product.Id" /> <!-- Hidden input for Product ID (used for edit scenarios) -->

            <!-- Product Name input field -->
            <div class="mb-3">
                <label asp-for="Product.Name" class="form-label"></label> <!-- Label for Product Name -->
                <input asp-for="Product.Name" class="form-control" placeholder="Enter product name" required />
                <span asp-validation-for="Product.Name" class="text-danger"></span> <!-- Validation error message -->
            </div>

            <!-- Product Category input field -->
            <div class="mb-3">
                <label asp-for="Product.Category" class="form-label"></label> <!-- Label for Category -->
                <input asp-for="Product.Category" class="form-control" placeholder="Enter category" required />
                <span asp-validation-for="Product.Category" class="text-danger"></span> <!-- Validation error message -->
            </div>

            <!-- Product Production Date input field -->
            <div class="mb-4">
                <label asp-for="Product.ProductionDate" class="form-label"></label> <!-- Label for Production Date -->
                <input asp-for="Product.ProductionDate" type="date" class="form-control" required />
                <span asp-validation-for="Product.ProductionDate" class="text-danger"></span> <!-- Validation error message -->
            </div>

            <!-- Submit button with a plus icon -->
            <button type="submit" class="btn btn-success w-100 d-flex align-items-center justify-content-center gap-2">
                <!-- Bootstrap SVG icon for "add" -->
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                    <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
                </svg>
                Save Product
            </button>
        </form>
    </div>

    <!-- Link to go back to the Farmer dashboard -->
    <div class="mt-3 text-center">
        <a href="@Url.Action("Index", "Farmer")" class="btn btn-secondary">← Back to Farmer</a>
    </div>
</div>

<!-- Scripts section for validation and Bootstrap JS -->
@section Scripts {
    <script src="~/lib/jquery/dist/jquery.min.js"></script> <!-- jQuery library -->
    <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script> <!-- Bootstrap JS bundle -->
    <script src="~/js/site.js" asp-append-version="true"></script> <!-- Custom site JS -->

    <!-- jQuery validation and unobtrusive validation libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.5/jquery.validate.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validation-unobtrusive/3.2.12/jquery.validate.unobtrusive.min.js"></script>

    <!-- Partial view for validation scripts (standard for ASP.NET Core) -->
    @await Html.PartialAsync("_ValidationScriptsPartial")
}
